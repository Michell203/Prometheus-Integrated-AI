NOTE:
   RULE: EXAMPLE AAA BBB => CCC :END
   RULE: EXAMPLE AAA(ZZ,<x>) BBB => CCC(<x>) :END
   RULE: EXAMPLE AAA $GREATER(50,<x>) => CCC(<x>) :END
   RULE: EXAMPLE AAA LLL => MMM $ASSERT(NNN) :END

   INPUT: VIS(<x>), PROX(<x>), BACKUP, ADJACENT(<x>), LOWBATTERY(), DIRECTION_OF(<x>), BATTERYFULL
   OUTPUT: #MOVEFORWARD, #TURN(<x>), #CHARGE_2_UNITS, #CHARGEFULL, #MOVE(<x>), #RETRACTPANELS
   STATES: LOOKING, RUNNING, FETCHING, CHARGING, LOWBATTERY, FULLYCHARGED
:ENDNOTE

RULE: LOOKING -VIS(X) -PROX(BG) -LOWBATTERY -ADJACENT(BORDER) => #MOVEFORWARD :END
RULE: LOOKING -VIS(X) -PROX(BG) -LOWBATTERY ADJACENT(BORDER) => #TURN_R :END

RULE: LOWBATTERY -PROX(BG) LOWBATTERY => #CHARGEFULL :END
RULE: LOWBATTERY PROX(BG) LOWBATTERY => #CHARGE_2_UNITS :END

RULE: RUNNING PROX(BG) DIRECTION_OF(BG) => #TURN(BG) :END
RULE: RUNNING ADJACENT(BG) -ADJACENT(BORDER) => #BACKUP :END
RULE: RUNNING -PROX(BG) -VIS(X) ADJACENT(BORDER) => #BACKUP :END

RULE: FETCHING VIS(X) -PROX(BG) -LOWBATTERY DIRECTION_OF(X) => #MOVE(X) :END

RULE: FULLYCHARGED BATTERYFULL => #RETRACTPANELS :END